<template>
  <transition-group name="fade" tag="div">
    <div v-for="number in [index]" :key="number" class="textOutput flex text-xl md:w-128 py-12">
      <div class="left w-2/3 mx-4">
        <p>{{ activeText }}</p>
      </div>
      <div class="right w-1/3 mx-4">
        <svg v-if="activeKey == 'maximumConsequence'" class="w-32" version="1.0" xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512">
          <path
            d="M201 15.5V31h-35v30l17.6.2 17.6.3 1.9 7.3a55.9 55.9 0 0035.2 38.1l2.7 1.1v40.9l-13.7.3-13.8.3-.3 14.7-.3 14.8h86.2l-.3-14.8-.3-14.7-13.7-.3-13.8-.3v-20.5c0-18.6.2-20.5 1.8-21.1a55 55 0 0021.1-13.2 50.5 50.5 0 0015-25.3l1.9-7.3 17.8-.5 17.9-.5.3-14.8.3-14.7H311V0H201v15.5zm80 28.8c0 16.7-1.2 21.6-6.9 27.5a24.3 24.3 0 01-35.4.7c-6.5-6.5-7.7-10.9-7.7-28.2V30h50v14.3zM169.8 245.7l-.3 34.8-69.7.3-69.8.2v201H0v30h512v-30h-32V347H340V211H170l-.2 34.7zM310 361.5V482H200V241h110v120.5zm-140 35V482H60V311h110v85.5zm280 33V482H340V377h110v52.5z" />
          <path d="M229 284v15h19v65h30v-95h-49v15z" />
        </svg>
        <svg v-if="activeKey == 'maximumNegConsequence'" class="w-32" version="1.0" xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512">
          <path
            d="M244.2 1.6A49.6 49.6 0 00222 14c-4.3 4.2-29.4 42.1-106 160A15103 15103 0 0013.4 333.1 58.8 58.8 0 008 355a50.7 50.7 0 0025.7 42.7c10.2 5.4 14.9 6.3 34 6.3H85v17H72.6c-11.1 0-12.6.2-15.7 2.3-6.2 4.2-7.2 6.7-14.3 39.3-7.3 33.2-7.6 36.8-3.6 42.4 2.6 3.7 9 6.9 13.5 7a20 20 0 0013.9-7.8c1-1.8 4.2-13.7 7-26.5l5.2-23.2h354.8l5.2 23.2c2.8 12.8 6 24.7 7 26.5a20 20 0 0013.9 7.8c4.5-.1 10.9-3.3 13.5-7 4-5.6 3.7-9.2-3.6-42.4-7.1-32.6-8.1-35.1-14.3-39.3-3-2.1-4.6-2.3-14.7-2.3H429v-17h16.3c18 0 22.9-.9 33-6.3A50.7 50.7 0 00504 355c0-6-2.5-16.2-5.4-21.9A15103 15103 0 00396 174C317.3 52.8 294.5 18.3 290 14a49.1 49.1 0 00-45.8-12.4zm20.5 34.6c3 1.8 21.5 30 188.6 287.3l16.9 26-.4 6.2c-.3 5.3-.9 6.8-3.3 9.4-6 6.3 9.3 5.9-210.5 5.9-168.5 0-201.6-.2-204.3-1.4-7-3-11.2-11-9.6-18.4.3-1.8 2.2-5.6 4.1-8.5l100.7-154.9a5821.3 5821.3 0 0199.9-151.4 16.4 16.4 0 0117.9-.2zM144 412.5v8.5h-25v-17h25v8.5zm192 0v8.5H178v-17h158v8.5zm59 0v8.6l-12.7-.3-12.8-.3-.3-6.9c-.2-3.8-.1-7.5.2-8.3.4-1 3.5-1.3 13.1-1.3H395v8.5z" />
          <path
            d="M249.5 94.4c-1.6.8-4.2 2.6-5.6 4.2-2.2 2.4-134.3 205.2-140.2 215.2-4.4 7.4-1.2 18.7 6.5 22.9 3.1 1.7 11.1 1.8 145.8 1.8 160.1 0 146.2.7 151.6-7.5 3-4.4 3.6-11.9 1.4-16.1-2.9-5.5-138.5-213.6-140.9-216.3-4.8-5.3-12.3-7-18.6-4.2zm60.1 128.4l53.1 81.7-53.3.3H202.6l-53.3-.3 53.1-81.7c29.2-45 53.3-81.8 53.6-81.8.3 0 24.4 36.8 53.6 81.8z" />
          <path
            d="M251.8 175.6c-5.9 3.2-6 3.4-4.3 45A527 527 0 00250 260c2.4 4.6 12.4 5.1 16.7.8 2.2-2.2 2.3-3.2 3.7-39.7 1.7-41.4 1.6-42.5-4.3-45.5-3.8-2-10.7-2-14.3 0zM253.4 277.4c-4 1.8-7.4 7.3-7.4 12.1 0 7 6.3 13.5 13.1 13.5 3.4 0 8.8-3 11-6.1 2.6-3.6 2.7-10.7.4-14.3a13.7 13.7 0 00-17.1-5.2z" />
        </svg>
        <svg v-if="activeKey == 'medianImpact'" class="w-32" version="1.0" xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512">
          <path
            d="M30.9 40.9a8.6 8.6 0 00-2.9 7c0 7.1 2.2 8.5 22 14.2 9.6 2.8 17.9 5.5 18.3 5.9C69.7 69.3 8.4 200 5 203c-4.6 4.1-5.3 6.5-4.6 14.9A80 80 0 0017.1 262a79.1 79.1 0 0062.5 32.7 78.9 78.9 0 0063.9-25.2 78 78 0 0023.6-48.6c1-8.1.9-9.9-.4-13.1-.9-2.1-2.7-4.3-4.1-4.9-1.9-.9-7.8-12.8-30.7-61.8l-29.1-62.3c-.6-1.3-.5-1.6.4-1.3l52.3 15 52.6 15.1c1.2.3 2 2.6 2.8 8.2a46.7 46.7 0 0030.5 37.8l4.6 1.6-.2 103.1-.3 103.2-19.5.5c-17.1.5-20.2.8-25 2.8a41.3 41.3 0 00-26 37.9v6.1l-4.6 1.6a43.6 43.6 0 00-24.9 21.9c-4.3 9.4-6 29.2-3.1 36.2 2.9 6.9-4 6.5 113.6 6.5s110.7.4 113.6-6.5c1.7-4 1.8-15.3.3-24.5a41.9 41.9 0 00-28.3-33.6l-4.6-1.6v-6.1a41.3 41.3 0 00-26-37.9c-4.8-2-7.9-2.3-25-2.8l-19.5-.5-.3-103.2-.2-103.1 3.7-1.2c8.8-2.8 21-12.3 25-19.4 1-1.7 4.2-.9 57.9 14.4 31.3 9 57.9 16.6 59.1 17.1 2 .8.8 3.8-28.8 67.1-23.1 49.5-31.6 66.9-33.8 68.8-4.6 4-5.3 7-4.1 17.8a84.2 84.2 0 0027.6 53.7 77.2 77.2 0 0030.4 17.1c7.9 2.6 9.7 2.8 24.5 2.8 17.2.1 21.4-.7 34-6.2a87.5 87.5 0 0045.3-48.1 92.1 92.1 0 005.2-25.9c0-5.2-2.7-10.7-5.7-11.6-1.3-.4-10.6-19.3-31-62.9a5509.8 5509.8 0 01-28.8-62.4c.1-.2 5.6 1.3 12.3 3.2a96 96 0 0015.7 3.5c8.5 0 12.8-10.9 6.8-16.9-2.8-2.7-12.7-5.6-174-51.7l-5.2-1.5-.6-5.7a47.2 47.2 0 00-29.4-39.4 37.2 37.2 0 00-16.1-2.2c-11.8 0-18 1.8-26.2 7.7a57 57 0 00-12.7 13.4c-.7 1.3-14.3-2.3-88.3-23.6A2320.7 2320.7 0 0037.6 38c-2.8 0-4.5.7-6.7 2.9zm235.7 47.2a24.7 24.7 0 11-35.3 19.7 26.9 26.9 0 0115.1-20.4 30.5 30.5 0 0120.2.7zm-156.1 56.1l26.3 56.3-52.6.3c-28.9.1-52.7 0-53-.3-.3-.3 11.4-25.9 25.9-56.9 14.5-31.1 26.5-56.3 26.8-56.1l26.6 56.7zm344.3 99.3l26.1 56-52.6.3c-28.9.1-52.8 0-53-.2-.2-.2 11.4-25.8 25.9-56.9a1293 1293 0 0126.9-55.9c.4.4 12.4 25.9 26.7 56.7zM146 222.3A64.1 64.1 0 0183.7 274 63.7 63.7 0 0122 222.7c0-.4 27.9-.7 62-.7s62 .1 62 .3zm343.5 101.9a63 63 0 01-123.5-2.4c0-.4 27.9-.8 62.1-.8h62.1l-.7 3.2zM304.9 385c2.4 1.4 5.8 4.2 7.5 6.3 2.5 3.1 3.1 4.9 3.4 10.2l.4 6.5H195.8l.4-6.5c.3-5.3.9-7.1 3.5-10.2 3.5-4.4 8.2-7.4 13.2-8.4 2-.4 22.5-.7 45.6-.6l42 .2 4.4 2.5zm28.1 45.1c2.5.5 6.2 2.2 8.2 3.6a24 24 0 018.8 16.5v3.8H161.7l.6-5a21.3 21.3 0 0116.2-18.9c5.6-1.3 148.7-1.3 154.5 0z" />
        </svg>
        <svg v-if="activeKey == '3maximumNegConsequence'" class="w-32" version="1.0" xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512">
          <path
            d="M244.2 1.1a44.1 44.1 0 00-33.1 32.7c-1.9 9.2-1.4 14.8 2.6 27.4.5 1.7-.8 1.8-17.3 1.8-19.7 0-23 .8-28.8 6.6-4.8 4.8-6.6 9.9-6.6 19.1V97h-27.3c-30.9 0-35.8.7-44.4 6.6a39.6 39.6 0 00-13.4 17.9c-2.1 6-2.1 360 0 366a37 37 0 0024.2 23c8.1 2.2 303.7 2.2 311.8 0a37 37 0 0024.2-23c2.1-6 2.1-360 0-366a39.6 39.6 0 00-13.4-17.9c-8.6-5.9-13.5-6.6-44.4-6.6H351v-8.3c0-9.2-1.8-14.3-6.6-19.1-6-6-8.8-6.6-32.1-6.6-11.7 0-21.3-.3-21.3-.8.1-.4.9-3.2 2-6.2 2.6-7.3 2.6-18.9.1-26.2a42.7 42.7 0 00-48.9-28.7zM263 19.6A26.2 26.2 0 01277.7 40c.7 6.4-1 12.3-5.3 18.2L269 63h-31.8l-3.5-4a24.6 24.6 0 01-5.9-21A25.5 25.5 0 01263 19.6zM161.3 135.5c.8 4.8 4.1 9.1 8.7 11.5 3.8 1.9 6.2 2 86 2s82.2-.1 86-2c4.6-2.4 7.9-6.7 8.7-11.5l.6-3.5h17.1c19.2 0 22.3.8 28.4 7.1 6.5 6.7 6.2-2.4 6.2 165.6 0 113.4-.3 153.6-1.2 157.1a22.5 22.5 0 01-15.7 15.1c-7.3 1.6-252.9 1.6-260.2 0a21.9 21.9 0 01-15.9-16c-.8-4-1-45-.8-159.4.3-170-.2-156.2 6.5-162.9 5.6-5.7 9.1-6.6 27.9-6.6h17.1l.6 3.5z" />
          <path
            d="M170 179.7a30.2 30.2 0 00-18.2 50.6 30 30 0 0043.2.7 30.2 30.2 0 00-25-51.3zM234.8 195a15.9 15.9 0 00-8.6 13.6 16.1 16.1 0 009.1 16.3c4.2 2.1 5.5 2.1 59.5 2.1 36.5 0 56-.4 57.9-1.1a18.3 18.3 0 0011.3-16.1c0-5.3-3.7-11.5-8.4-14.3l-4.3-2.5h-56.4c-53.8.1-56.6.2-60.1 2zM163.7 267.4a30.4 30.4 0 00-17.5 40.8c11.2 24.4 46.3 23.4 55.7-1.6A39 39 0 00204 296c0-10.8-7-22.1-16.7-27a37 37 0 00-23.6-1.6zM239.5 278.9a15.7 15.7 0 00-10.1 6.7 17.9 17.9 0 003.8 24.6l3.3 2.3 57.4.3 57.3.2 4.3-2.5c11.4-6.6 10.7-24.2-1.2-30.1-3.6-1.8-6.9-1.9-57.8-2.1-29.7-.1-55.3.2-57 .6zM163.6 359.5a30.3 30.3 0 00-19.8 28.4 29.5 29.5 0 0029.3 30.1c8.5 0 14.7-2.2 20.4-7.2a30.1 30.1 0 00-5.6-49.3 34.8 34.8 0 00-24.3-2zM237 371.7a17.9 17.9 0 00-7.6 26.7c5.6 7.4 3 7.1 62 7.4 55.4.3 60.3 0 65.8-4 3.6-2.5 6.7-8.9 6.8-13.7 0-5.5-3.6-11.8-8.4-14.6l-4.3-2.5-56.4.1c-31 0-57.1.3-57.9.6z" />
        </svg>
        <svg v-if="activeKey == 'maximumLikelihoodPos'" class="w-32" version="1.0" xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512">
          <path
            d="M130.9 45.3A6290 6290 0 005.5 92c-1.7 1.4-1.8 9.1-1.3 158.8.5 152.1.6 157.5 2.4 159.2 1.1.9 55.4 23 120.8 49.1 100.4 40 118.9 47.7 119.7 49.6 1 2.7.4 2.5 9.3 2.8 6.5.2 7 0 8.4-2.5 1.3-2.2 17.9-9.1 121.4-50.4 79.8-31.9 120.2-48.5 120.8-49.7.6-1.1 1-59.7 1-158.8V93l-2.2-1.4C503 89.8 257.6 0 255.8.1c-.7 0-56.9 20.4-124.9 45.2zm235.8 14.4a4419.1 4419.1 0 01109.5 40.4c-.4.3-50 20.3-110.3 44.4l-109.6 43.8L147.9 145a9178.2 9178.2 0 01-109.2-44c-.5-.4 6.1-3.3 14.5-6.4l108.3-40c51.2-18.9 93.5-34.5 94-34.5.6-.1 50.6 17.7 111.2 39.6zM135.5 160.4l111 44.4.3 140.7c.2 133.8.1 140.7-1.5 140.1l-111.5-44.4L24 397.5V256.7c0-77.4.1-140.7.3-140.7l111.2 44.4zm353.3 96.3l-.3 140.8-111 44.2L266.3 486c-.2 0-.3-63.3-.3-140.8l.1-140.7 110.7-44.2c60.9-24.3 111-44.2 111.5-44.2.4-.1.6 63.2.5 140.6z" />
          <path
            d="M180.5 79c-12.6 1.9-21.2 5.7-26.8 11.9-8.7 9.6-1.7 18.7 16.3 21.3 18.8 2.8 42.8-6.6 45.6-17.7 1.6-6.6-4.8-12.6-16.2-15a43 43 0 00-18.9-.5zM297.8 89.5C284.1 92.9 274 100.8 274 108c0 11.3 21.6 17.3 42.6 12 23.1-5.9 30.8-20.8 14.7-28.7-5.2-2.5-7-2.8-16.8-3-7-.2-13.1.3-16.7 1.2zM57.2 180c-8.4 1.9-12.6 11.2-9.8 22a38.6 38.6 0 0020.9 25.6c18.2 8.5 30.5-7.4 20.8-27.1-6.8-13.7-21.1-22.9-31.9-20.5zM187.9 232c-4.8 1.4-6.9 3.1-9 7.2-4.5 8.8-.4 23 9.5 32.8 12 12 26.1 13.2 32.7 2.8 2.7-4.4 2.2-15.2-1.1-22.1-6.3-13.2-22.4-23.7-32.1-20.7zM119.1 278.8c-5.4 2.9-7.3 7.4-6.8 15.7.4 8.6 3.1 14.6 9.9 22 8.7 9.6 22.1 13.7 28.6 8.8 5.3-3.9 6.7-7 6.7-14.1 0-15.9-14.5-32.6-29.2-33.9-4.5-.3-6.6 0-9.2 1.5zM54 317.7c-10.8 5.6-9.6 24.2 2.3 37.9a42.3 42.3 0 0018.6 10.8c14.7 2.7 22-12.8 14-29.9-6.9-14.6-24.6-24.2-34.9-18.8zM184 370.2c-5.2 3.5-7.2 8.1-6.8 15.3 1.4 23.9 31.6 42.9 43.2 27.2 1.7-2.3 2.1-4.3 2.1-10.5a25 25 0 00-2.8-13.5c-7.7-15.6-26-25.1-35.7-18.5zM383.8 273.1c-13.1 3.1-24.7 18.9-25.6 34.9-.5 8.8.7 13.5 4.6 18.2 5.5 6.5 12.7 7.4 22 2.7 16.3-8.1 25.7-32.2 18.3-46.8a16 16 0 00-9.8-8.7c-4.3-1.5-4.5-1.5-9.5-.3z" />
        </svg>
        <svg v-if="activeKey == 'maximumLikelihoodNegC'" class="w-32" version="1.0"
          xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
          <svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
            <path
              d="M247.8 2.1A14.3 14.3 0 00242 8c-1.9 3.7-2 5.8-2 37s.1 33.3 2 37c2.3 4.5 8 8 13 8s10.7-3.5 13-8c1.9-3.7 2-5.8 2-37s-.1-33.3-2-37a14.6 14.6 0 00-20.2-5.9zM112 39.2a17.9 17.9 0 00-5.2 5.8c-3.6 7-3 8.6 13.8 38.1a367.8 367.8 0 0018.8 30.7c6 6.4 15.7 6.3 21.5-.3 3.4-3.9 4.6-8.7 3.4-13.2a531.5 531.5 0 00-35.7-60.6c-4.5-3.2-12.2-3.5-16.6-.5zM385.1 38.7c-1.8.9-4.3 3.3-5.6 5.2a891.3 891.3 0 00-32 57 14 14 0 003.7 12.7 14.3 14.3 0 0021.4.2c1.7-1.8 10.2-15.6 18.8-30.7C408.2 53.6 408.8 52 405.2 45a15 15 0 00-20.1-6.3zM238 121a150.8 150.8 0 00-94.8 50.6 153.9 153.9 0 00-34.5 69.3c-2 9.2-2.1 12.8-2.4 94.8l-.4 85.3H89.4c-19.3 0-22.9 1.1-26.4 8-1.9 3.7-2 5.8-2 37.5s.1 33.8 2 37.5c1.3 2.6 3.4 4.7 6 6 3.9 2 5.5 2 187 2s183.1 0 187-2c2.6-1.3 4.7-3.4 6-6 1.9-3.7 2-5.8 2-37.5s-.1-33.8-2-37.5c-3.5-6.9-7.1-8-26.4-8h-16.5l-.4-85.3c-.3-84-.3-85.3-2.6-95.2A150.6 150.6 0 00285.5 123a195.7 195.7 0 00-47.5-2zm41.8 31.4c23.9 5.2 43.8 16 60.8 33 16.8 16.8 27 35.3 33.1 60.3 1.5 6 1.7 16.4 2 91l.4 84.3H135.9l.4-84.3c.3-81.5.4-84.5 2.4-92.7a120.4 120.4 0 0132.7-58.6 120.5 120.5 0 0171.1-34.8c6.1-.9 30.2.3 37.3 1.8zM421 466.5V482H91v-31h330v15.5zM15.5 137.4a14.7 14.7 0 00-4.2 24.4c1.3 1.3 14.6 9.3 29.3 17.9 29.4 17 32.5 18.2 39.4 14.6 5.5-2.9 8.3-7.8 7.8-13.9a18 18 0 00-2.5-7.9c-1.2-1.8-13-9.2-30.3-19.2-29.9-17.3-33.4-18.7-39.5-15.9zM486.4 136.8c-1.1.4-14.6 7.9-29.8 16.7-18 10.3-28.5 17-29.9 18.9-1.2 1.7-2.2 5-2.5 8-.5 6.1 2.3 11 7.8 13.9 6.9 3.6 10 2.4 39-14.3 14.6-8.4 28-16.7 29.8-18.4 11.3-10.6.4-29.4-14.4-24.8z" />
            </svg></svg>
      </div>
    </div>
  </transition-group>
</template>
<script>
  import output_functions from "../data/generate_output";
  import store from "../store";
  export default {
    props: ["variables"],
    data() {
      return {
        outcomeVarIndex: 0,
        index: 0,
        outcomeVarTitle: null,
        activeKey: null,
        activeText: null,
        timer: null,
      };
    },
    computed: {
      getOutcomeVars() {
        return store.state.outcomeVariables;
      },
      getText() {
        return output_functions.buildText2();
      },
    },
    methods: {
      startSlide: function () {
        this.timer = setInterval(this.next, 15000);
      },

      next: function () {
        /* this.outcomeVarIndex = Math.round(Math.random() * (this.getOutcomeVars.length - 1));
        this.outcomeVarTitle = this.getOutcomeVars[this.outcomeVarIndex].title;
        if (this.getScenarioVars[this.outcomeVarIndex].length > 3) {
          this.options.push("3maximumNegConsequence")
        }
        this.index = Math.round(Math.random() * (this.options.length - 1));
        this.activeKey = this.options[this.index];
        this.activeText = this.getText(this.outcomeVarIndex, this.activeKey); */
        this.outcomeVarIndex = Math.round(Math.random() * (this.getOutcomeVars.length - 1));
        this.outcomeVarTitle = this.getOutcomeVars[this.outcomeVarIndex].title;
        var keys = Object.keys(this.getText[this.outcomeVarTitle])
        this.index = Math.round(Math.random() * (keys.length - 1));
        this.activeKey = keys[this.index];
        this.activeText = this.getText[this.outcomeVarTitle][this.activeKey];
      },
    },
    mounted() {
      this.next();
      this.startSlide();
    },
  };
</script>