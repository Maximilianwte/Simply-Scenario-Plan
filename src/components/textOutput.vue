<template>
  <transition-group name="fade" tag="div">
    <div
      v-for="number in [index]"
      :key="number"
      class="textOutput flex text-xl md:w-128 py-12"
    >
      <div class="left w-2/3 mx-4">
        <p>{{ getText }}</p>
      </div>
      <div class="right w-1/3 mx-4">
        <svg
          v-if="textIndex == 0"
          class="w-32"
          version="1.0"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
        >
          <path
            d="M193.5 1.2c-4.2 2.4-4.4 3.6-4.5 23.6v19.3l2.6 2.4c1.6 1.5 3.9 2.5 5.5 2.5h2.9V71.3l-24.9 49.1c-13.6 27-26 52.2-27.5 56-1.5 3.7-3.8 11.6-5.2 17.5l-2.4 10.6v141.6c0 158.9-.6 146.7 7.6 155.8 2.6 2.9 6.5 5.8 9.6 7.2l5.3 2.4h187l5.1-2.3c6-2.7 11.3-7.9 14.6-14.2l2.3-4.5.3-142.9.2-142.8-2.4-10.8c-1.3-5.9-3.7-13.8-5.2-17.6-1.5-3.8-13.9-29-27.5-56L312 71.3V49h2.9c1.6 0 3.9-1 5.5-2.5l2.6-2.4V24.8c-.1-20.2-.3-21.3-4.7-23.6-3.1-1.7-121.9-1.6-124.8 0zM307 24.5V33H205V16h102v8.5zm-11 37.9v13.4l16 31.5 16 31.5-3 1.2c-1.7.7-5.5 3-8.5 5.1-3.1 2.1-6.8 4.5-8.3 5.3-7.7 3.9-17.1 2.6-25.6-3.5-10.3-7.4-15.8-9.3-26.6-9.3s-16.3 1.9-26.6 9.3c-8.5 6.1-17.9 7.4-25.6 3.5-1.5-.8-5.2-3.2-8.3-5.3-3-2.1-6.8-4.4-8.5-5.1l-3-1.2 16-31.5 16-31.5V49h80v13.4zm-34.3 91.9c2.8.7 7.3 3 10.1 5 16.8 12.4 33.1 12.8 50.8 1.2 13.2-8.6 11.7-9.2 20.6 9.2 4.2 8.7 8.7 19.6 10 24.3l2.3 8.5.3 141.5c.2 139 .2 141.6-1.7 144.7-1.1 1.8-3.2 4-4.8 5-2.6 1.7-7.7 1.8-93.3 1.8s-90.7-.1-93.3-1.8c-1.6-1-3.7-3.2-4.8-5-1.9-3.1-1.9-5.7-1.7-144.7l.3-141.5 2.3-8.5c1.3-4.7 5.8-15.6 10-24.3 8.9-18.4 7.4-17.8 20.6-9.2 17.7 11.6 34 11.2 50.9-1.2 4.2-3.1 11.2-6 15.2-6.2.6-.1 3.4.5 6.2 1.2z"
          />
          <path
            d="M237.4 66.4c-6.5 2.8-6 12.1.6 14.5 4.9 1.6 32.2 1.5 36.4-.3 6.7-2.8 6.4-12.1-.4-14.5-4.8-1.6-32.7-1.4-36.6.3zM181.6 182.2c-3.2 2.9-7.1 14.9-8.6 26.1-.7 5.5-1 40.1-.8 104.5l.3 96.4 2.8 2.4c3.6 3 6.8 3 10.4 0l2.8-2.4.5-102.4.5-102.3 2.7-8c3.4-9.8 3.4-10.5.3-13.9-3-3.3-7.4-3.4-10.9-.4zM178.4 430.8c-1.2.2-3 1.2-4 2.4-1.7 1.7-1.9 4.1-2.2 18.6-.2 9.2-.1 18.1.3 19.9.8 4.3 4.1 7.3 7.9 7.3 3.8-.1 6.2-1.8 7.6-5.4 1.6-4.2 1.3-34-.4-38-1.5-3.5-5.2-5.5-9.2-4.8z"
          />
        </svg>
        <svg
          v-if="textIndex == 1"
          class="w-32"
          version="1.0"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
        >
          <path
            d="M86 1.3c-1.4.7-3.3 2.8-4.2 4.7-1.6 3.4-1.1 11 17.2 234.6 20.8 254.1 19 237.6 27 249.4 6.1 9 14.5 15.5 25 19.4 5.4 2 7.5 2.1 101 2.4 66.7.2 97.5-.1 102.2-.8 9.3-1.6 17.4-5.7 25-12.8 6.7-6.3 12-15.1 13.9-22.8C394.9 467.9 432 9.1 431 6.5c-.5-1.3-1.8-3.3-3-4.5-2-2-2.2-2-170.7-2C124.8 0 88 .3 86 1.3zm326.5 22.4c-.3 2.7-8 97.3-17 210.3-9.1 113-16.7 207.4-17.1 209.7l-.5 4.3H135v-2.7c0-3-33.7-415.5-34.5-422.1L100 19h313.1l-.6 4.7zM376 468.9c0 2.9-3.4 10.2-6.4 13.8-4.3 5.1-11.4 9.1-18.6 10.3-4.5.8-34.4 1-98.5.8l-92-.3-5.2-2.4c-8.4-3.7-15.4-12.3-17.7-21.4l-.6-2.7h119.5c117.1 0 119.5 0 119.5 1.9z"
          />
          <path
            d="M191 160.5c-13.5 1.9-23.7 4.1-37.7 8.2-14 4.1-18 6.2-18.9 9.9-.9 3.5 17.4 237 18.8 240.7 2.3 6-3.9 5.7 104.6 5.7h99.3l2.4-2.4c1.4-1.4 2.6-4 2.9-6.7.7-5.6 15.7-230.1 15.9-239.1.2-5.7-.1-7-2.1-9.1-3.6-3.8-6.4-4-15.5-1.3-19.8 5.9-36.5 8.1-55.6 7.3-16-.6-25.8-2.4-43.9-7.8-7.3-2.2-17.6-4.6-23-5.4-11.8-1.8-34.2-1.8-47.2 0zm51.3 19.5c5.4 1.2 12.3 3 15.5 4.1 13.5 4.8 27.9 7.1 47.7 7.6 19.4.6 29.7-.2 44.8-3.4 4.2-.9 8-1.4 8.3-1.1.3.3-2.8 49.7-6.8 109.7L344.6 406h-87.3c-60.7 0-87.3-.3-87.3-1.1 0-.5-3.6-49.2-8-108-4.4-58.9-8-107.4-8-107.9 0-2.4 30.5-9.4 49.5-11.4 8.8-.9 29.4.4 38.8 2.4z"
          />
        </svg>
        <svg
          v-if="textIndex == 2"
          class="w-32"
          version="1.0"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
        >
          <path
            d="M92.1 17.6c-16.9 4.5-30.1 18-34.6 35.1-1.3 5-1.5 29.3-1.5 184.5V416h-9.5c-8.8 0-9.8.2-12 2.5l-2.5 2.4v70.2l2.5 2.4 2.4 2.5H352v-16H48v-48h275.1l2.4-2.5 2.5-2.4V296h5.5c4.6 0 6 .4 8 2.5l2.5 2.4v66.6c0 56.9.2 67.7 1.6 74.3 8.1 39.3 48.6 63 86.9 50.8 21.1-6.7 36.9-22.4 44.3-44.1l2.7-8 .3-133.5c.2-102.9 0-134.5-.9-137.9-.9-3.3-3.2-6.5-8.1-11.7l-6.8-7.1v-49.4l-2.5-2.4-2.4-2.5h-49.6L399 85.5c-7.8-7.9-11.5-10.8-14.9-12-3.5-1.2-9.8-1.5-30.3-1.5H328v-5.9c0-23.5-14.5-42.8-36.5-48.6-8.6-2.2-191.1-2.2-199.4.1zm201.5 17.6c7.6 4 10.7 7 14.5 14l3.4 6.3.3 180.2.2 180.3H72l.2-180.3.3-180.2 2.7-5.1c1.5-2.8 3.8-6.4 5.2-8.1 2.7-3.2 11.3-8.2 16-9.4 1.7-.4 45.6-.6 97.6-.6l94.5.2 5.1 2.7zM344 96v8h-16V88h16v8zm47.5 4l12.2 12H448v44.1l8 8.4 8 8.4V272h-16v-92.4l-13.8-13.8-13.8-13.8H376v-21.5c0-21.6 0-21.6-2.5-24-2-2.1-3.4-2.5-8-2.5H360V88H379.3l12.2 12zm-31.3 72.2l.3 52.3 3.4 6.3c3.8 7 6.9 10 14.5 14 5.1 2.7 5.2 2.7 29.4 3l24.2.4-.2 93.2-.3 93.2-2.7 4.1c-4.1 6.3-9 8.8-16.9 8.8-5.4 0-7.2-.5-10.6-2.7-2.2-1.5-5.1-4.4-6.4-6.5l-2.4-3.8-.5-71-.5-71-2.6-6.6c-3.6-9.4-7-14.8-13.3-21.2-10.2-10.3-22.3-15.6-37.8-16.4l-9.8-.6V120h31.9l.3 52.2zm31.8 17.3c0 28.5-1.7 26.5 22.5 26.5H432v16.1l-22.9-.3c-25.2-.3-25.5-.4-30.5-7.2-2-2.6-2.1-4.3-2.4-29.7l-.3-26.9H392v21.5zm31.3-12.7l8.7 8.7V200h-24v-32h3.3c2.8 0 4.5 1.3 12 8.8zm-70.9 91c9 4.2 14.9 10 19.4 19l3.7 7.6.5 71 .5 71.1 2.8 6c3.6 7.8 10.4 14.6 18.1 18.2 8.8 4 20.4 4 29.2 0 7.7-3.6 14.5-10.4 18.1-18.2l2.8-6 .3-74.3.2-74.2h16v72.7c0 61.4-.3 73.8-1.5 79.2-4.4 18.7-19.9 34.2-38.6 38.6-27.6 6.5-55.8-11-62.4-38.6-1.2-5.4-1.5-17.1-1.5-72.8 0-48.3-.3-67.4-1.2-70.3-.6-2.2-3.1-6.2-5.5-8.8-5.1-5.7-10.8-8-19.5-8H328V263.7l8.9.5c7.2.4 10.2 1.1 15.5 3.6z"
          />
          <path
            d="M98.5 66.5L96 68.9v134.2l2.5 2.4 2.4 2.5h182.2l2.4-2.5 2.5-2.4V68.9l-2.5-2.4-2.4-2.5H100.9l-2.4 2.5zM272 136v56H112V80h160v56z"
          />
          <path
            d="M136 136v8h16v-16h-16v8zM168 136v8h16v-16h-16v8zM200 136v8h16v-16h-16v8zM232 136v8h16v-16h-16v8zM187.2 249.7c-2 1.7-34.8 71.1-37 78.3-4.5 14.6-.2 31.7 10.7 42.7 14.4 14.3 34.6 17.2 52.5 7.5 17.3-9.4 26.2-31.3 20.4-50.2-2.2-7-35-76.6-37-78.3-1.1-.9-3.3-1.7-4.8-1.7s-3.7.8-4.8 1.7zm18 53.5c7 15 13.2 29.5 13.8 32.2 2.5 11.4-3.5 23.7-14.4 29.4-7.3 3.8-17.9 3.8-25.2 0-9.5-5-14.8-13.9-14.7-24.8 0-6.2.6-7.8 13.4-35.3 7.3-15.8 13.6-28.7 13.9-28.7.3 0 6.2 12.3 13.2 27.2z"
          />
        </svg>
        <svg
          v-if="textIndex == 3"
          class="w-32"
          version="1.0"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
        >
          <path
            d="M150.6 9.1c-6.2 1.5-15.3 6.8-19.7 11.6-2.2 2.4-5.5 7.4-7.2 11.1l-3.2 6.7v435.1l3.7 7.6c4.5 9.1 10.3 14.7 19.6 19.1l6.7 3.2h211l6.7-3.2c9.3-4.4 15.1-10 19.6-19.1l3.7-7.6V38.4l-3.7-7.6c-4.5-9.1-10.3-14.7-19.6-19.1l-6.7-3.2L258 8.3c-60.4-.1-105.1.3-107.4.8zM189 41.7c2.8 14.1 3.9 18.3 5.7 20l2.2 2.3h118.2l2.2-2.3c1.8-1.7 2.9-5.9 5.7-20l3.4-17.7h14.4c8.4 0 16.2.5 18.6 1.2 5.5 1.6 13.8 9.9 15.4 15.4 1.8 6 1.8 424.8 0 430.8-1.6 5.5-9.9 13.8-15.4 15.4-6 1.7-200.8 1.7-206.8 0-5.5-1.6-13.8-9.9-15.4-15.4-1.8-6-1.8-424.8 0-430.8 1.5-5.1 9.9-13.7 14.8-15.3 1.9-.6 10.3-1.1 18.5-1.2l15.1-.1 3.4 17.7zm120.7-15c-.3 1.6-1.3 7-2.3 12l-1.8 9.3h-99.2l-1.8-9.3c-1-5-2-10.4-2.3-12l-.5-2.7h108.5l-.6 2.7z"
          />
          <path
            d="M154.5 458.5c-1.6 1.5-2.5 3.6-2.5 5.5s.9 4 2.5 5.5l2.4 2.5h54.2l2.4-2.5c1.6-1.5 2.5-3.6 2.5-5.5s-.9-4-2.5-5.5l-2.4-2.5h-54.2l-2.4 2.5zM226.5 458.5c-1.6 1.5-2.5 3.6-2.5 5.5s.9 4 2.5 5.5c2.1 2.2 3.3 2.5 9.5 2.5s7.4-.3 9.5-2.5c1.6-1.5 2.5-3.6 2.5-5.5s-.9-4-2.5-5.5c-2.1-2.2-3.3-2.5-9.5-2.5s-7.4.3-9.5 2.5z"
          />
        </svg>
      </div>
    </div>
  </transition-group>
</template>
<script>
import output_functions from "../data/generate_output";
export default {
  props: ["variables"],
  data() {
    return {
      index: 1,
      textIndex: 0,
      timer: null,
    };
  },
  computed: {
    getText() {
      return output_functions.buildText(
        this.getVarsWithImpact[this.index],
        this.textIndex
      );
    },
    getVarsWithImpact() {
      return this.variables.filter((item) => item.impact != 0);
    },
  },
  methods: {
    startSlide: function () {
      this.timer = setInterval(this.next, 12000);
    },
    next: function () {
      this.index = Math.round(Math.random() * this.getVarsWithImpact.length);
      this.textIndex = Math.round(Math.random() * 4);
    },
  },
  mounted() {
    this.startSlide();
  },
};
</script>